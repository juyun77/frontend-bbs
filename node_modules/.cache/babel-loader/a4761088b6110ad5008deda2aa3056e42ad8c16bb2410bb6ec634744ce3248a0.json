{"ast":null,"code":"import axios from\"axios\";import{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CommentWrite(props){const{headers,setHeaders}=useContext(HttpHeadersContext);const id=localStorage.getItem(\"id\");const seq=props.seq;const navigate=useNavigate();const[content,setContent]=useState(\"\");const chageContent=event=>{setContent(event.target.value);};const createComment=async()=>{const req={id:id,content:content,bbsSeq:seq};await axios.post(\"http://api.juyun.link/comment\",req,{params:{\"bbsSeq\":seq},headers:headers}).then(resp=>{console.log(\"[CommentWrite.js] createComment() success :D\");console.log(resp.data);if(resp.data.seq!=null){alert(\"댓글을 성공적으로 등록했습니다 :D\");navigate(0);}}).catch(err=>{console.log(\"[CommentWrite.js] createComment() error :<\");console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-1 d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/profile-placeholder.png\",alt:\"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\",className:\"profile-img\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-7\",children:/*#__PURE__*/_jsx(\"span\",{className:\"comment-id\",children:id})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2 my-1 d-flex justify-content-end\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:createComment,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comment-dots\"}),\" \\uB313\\uAE00 \\uCD94\\uAC00\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"col-10\",rows:\"5\",value:content,onChange:chageContent})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}export default CommentWrite;","map":{"version":3,"names":["axios","useContext","useState","useNavigate","HttpHeadersContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentWrite","props","headers","setHeaders","id","localStorage","getItem","seq","navigate","content","setContent","chageContent","event","target","value","createComment","req","bbsSeq","post","params","then","resp","console","log","data","alert","catch","err","children","className","src","alt","onClick","rows","onChange"],"sources":["C:/.git/frontend-bbs/src/Components/comment/CommentWrite.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\r\n\r\nfunction CommentWrite(props) {\r\n\r\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\r\n\r\n\tconst id = localStorage.getItem(\"id\");\r\n\tconst seq = props.seq;\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst [content, setContent] = useState(\"\");\r\n\r\n\tconst chageContent = (event) => {\r\n\t\tsetContent(event.target.value);\r\n\t}\r\n\r\n\tconst createComment = async() => {\r\n\r\n\t\tconst req = {\r\n\t\t\tid: id,\r\n\t\t\tcontent: content,\r\n\t\t\tbbsSeq: seq\r\n\t\t}\r\n\r\n\t\tawait axios.post(`http://api.juyun.link/comment`, req, { params: {\"bbsSeq\": seq}, headers: headers})\r\n\t\t.then((resp) => {\r\n\t\t\tconsole.log(\"[CommentWrite.js] createComment() success :D\");\r\n\t\t\tconsole.log(resp.data);\r\n\r\n\t\t\tif (resp.data.seq != null) {\r\n\t\t\t\talert(\"댓글을 성공적으로 등록했습니다 :D\");\r\n\t\t\t\tnavigate(0);\r\n\t\t\t}\r\n\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(\"[CommentWrite.js] createComment() error :<\");\r\n\t\t\tconsole.log(err);\r\n\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t\t{/* 상단 영역 (프로필 이미지, 댓글 작성자) */}\r\n\t\t\t\t<div className=\"my-1 d-flex justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<img src=\"/images/profile-placeholder.png\" alt=\"프로필 이미지\"\r\n\t\t\t\t\t\t\tclassName=\"profile-img\"/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"col-7\">\r\n\t\t\t\t\t\t<span className=\"comment-id\" >{id}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2 my-1 d-flex justify-content-end\">\r\n\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={createComment}><i className=\"fas fa-comment-dots\"></i> 댓글 추가</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* 하단 영역 (댓글 내용) */}\r\n\t\t\t\t<div className=\"my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t<textarea className=\"col-10\" rows=\"5\" value={content} onChange={chageContent}></textarea>\r\n\t\t\t\t</div><br/><br/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default CommentWrite;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}