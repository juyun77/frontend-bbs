{"ast":null,"code":"import axios from\"axios\";import{useState,useEffect}from\"react\";import Pagination from\"react-js-pagination\";import Comment from\"./Comment.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CommentList(props){const seq=props.seq;// Paging\nconst[page,setPage]=useState(1);const[totalCnt,setTotalCnt]=useState(0);const[commentList,setCommentList]=useState([]);const changePage=page=>{setPage(page);getCommentList(page);};const getCommentList=async page=>{await axios.get(\"http://localhost:3001/comment\",{params:{\"bbsSeq\":seq,\"page\":page}}).then(resp=>{console.log(\"[BbsComment.js] getCommentList() success :D\");console.log(resp.data);setCommentList(resp.data.commentList);setTotalCnt(resp.data.pageCnt);}).catch(err=>{console.log(\"[BbsComment.js] getCommentList() error :<\");console.log(err);});};useEffect(()=>{getCommentList(1);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-1 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paperclip\"}),\" \\uB313\\uAE00 \\uBAA9\\uB85D \"]})}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsCountPerPage:5,totalItemsCount:totalCnt,pageRangeDisplayed:5,prevPageText:\"‹\",nextPageText:\"›\",onChange:changePage}),commentList.map(function(comment,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsx(Comment,{obj:comment},idx)},idx);})]});}export default CommentList;","map":{"version":3,"names":["axios","useState","useEffect","Pagination","Comment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentList","props","seq","page","setPage","totalCnt","setTotalCnt","commentList","setCommentList","changePage","getCommentList","get","params","then","resp","console","log","data","pageCnt","catch","err","children","className","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","prevPageText","nextPageText","onChange","map","comment","idx","obj"],"sources":["C:/.git/frontend-bbs/src/Components/comment/CommentList.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport Comment from \"./Comment.js\"\r\n\r\nfunction CommentList(props) {\r\n\r\n\tconst seq = props.seq;\r\n\r\n\t// Paging\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [totalCnt, setTotalCnt] = useState(0);\r\n\r\n\tconst [commentList, setCommentList] = useState([]);\r\n\r\n\tconst changePage = (page) => {\r\n\t\tsetPage(page);\r\n\t\tgetCommentList(page);\r\n\t}\r\n\r\n\tconst getCommentList = async (page) => {\r\n\t\tawait axios.get(`http://localhost:3001/comment`, { params: { \"bbsSeq\": seq, \"page\": page } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tconsole.log(\"[BbsComment.js] getCommentList() success :D\");\r\n\t\t\t\tconsole.log(resp.data);\r\n\r\n\t\t\t\tsetCommentList(resp.data.commentList);\r\n\t\t\t\tsetTotalCnt(resp.data.pageCnt);\r\n\r\n\t\t\t}).catch((err) => {\r\n\t\t\t\tconsole.log(\"[BbsComment.js] getCommentList() error :<\");\r\n\t\t\t\tconsole.log(err);\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCommentList(1);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\r\n\t\t\t<div className=\"my-1 d-flex justify-content-center\">\r\n\t\t\t\t<h5><i className=\"fas fa-paperclip\"></i> 댓글 목록 </h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tactivePage={page}\r\n\t\t\t\titemsCountPerPage={5}\r\n\t\t\t\ttotalItemsCount={totalCnt}\r\n\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\tprevPageText={\"‹\"}\r\n\t\t\t\tnextPageText={\"›\"}\r\n\t\t\t\tonChange={changePage} />\r\n\t\t\t{\r\n\t\t\t\tcommentList.map(function (comment, idx) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"my-5\" key={idx}>\r\n\t\t\t\t\t\t\t<Comment obj={comment} key={idx} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t</>\r\n\r\n\t);\r\n}\r\n\r\n\r\nexport default CommentList;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAE5C,MAAO,CAAAC,OAAO,KAAM,cAAc,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElC,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAE3B,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACC,GAAG,CAErB;AACA,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAE3C,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAmB,UAAU,CAAIN,IAAI,EAAK,CAC5BC,OAAO,CAACD,IAAI,CAAC,CACbO,cAAc,CAACP,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAAO,cAAc,CAAG,KAAO,CAAAP,IAAI,EAAK,CACtC,KAAM,CAAAd,KAAK,CAACsB,GAAG,iCAAkC,CAAEC,MAAM,CAAE,CAAE,QAAQ,CAAEV,GAAG,CAAE,MAAM,CAAEC,IAAK,CAAE,CAAC,CAAC,CAC3FU,IAAI,CAAEC,IAAI,EAAK,CACfC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC,CAC1DD,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,CAAC,CAEtBT,cAAc,CAACM,IAAI,CAACG,IAAI,CAACV,WAAW,CAAC,CACrCD,WAAW,CAACQ,IAAI,CAACG,IAAI,CAACC,OAAO,CAAC,CAE/B,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,EAAK,CACjBL,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC,CACxDD,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAEjB,CAAC,CAAC,CACJ,CAAC,CAED7B,SAAS,CAAC,IAAM,CACfmB,cAAc,CAAC,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACCb,KAAA,CAAAE,SAAA,EAAAsB,QAAA,eAEC1B,IAAA,QAAK2B,SAAS,CAAC,oCAAoC,CAAAD,QAAA,cAClDxB,KAAA,OAAAwB,QAAA,eAAI1B,IAAA,MAAG2B,SAAS,CAAC,kBAAkB,CAAI,CAAC,8BAAO,EAAI,CAAC,CAChD,CAAC,cAEN3B,IAAA,CAACH,UAAU,EACV+B,UAAU,CAAEpB,IAAK,CACjBqB,iBAAiB,CAAE,CAAE,CACrBC,eAAe,CAAEpB,QAAS,CAC1BqB,kBAAkB,CAAE,CAAE,CACtBC,YAAY,CAAE,GAAI,CAClBC,YAAY,CAAE,GAAI,CAClBC,QAAQ,CAAEpB,UAAW,CAAE,CAAC,CAExBF,WAAW,CAACuB,GAAG,CAAC,SAAUC,OAAO,CAAEC,GAAG,CAAE,CACvC,mBACCrC,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAD,QAAA,cACpB1B,IAAA,CAACF,OAAO,EAACwC,GAAG,CAAEF,OAAQ,EAAMC,GAAM,CAAC,EADTA,GAEtB,CAAC,CAER,CAAC,CAAC,EAGF,CAAC,CAGL,CAGA,cAAe,CAAAhC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}