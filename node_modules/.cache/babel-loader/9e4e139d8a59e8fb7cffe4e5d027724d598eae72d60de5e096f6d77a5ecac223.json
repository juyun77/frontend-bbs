{"ast":null,"code":"import axios from\"axios\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{useContext,useState,useEffect}from\"react\";import{AuthContext}from\"../context/AuthProvider\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BbsAnswer(){const{auth,setAuth}=useContext(AuthContext);const{headers,setHeaders}=useContext(HttpHeadersContext);const navigate=useNavigate();const{parentSeq}=useParams();// Î∂ÄÎ™® Í∏Ä Î≤àÌò∏\nconst location=useLocation();const{parentBbs}=location.state;const[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const changeTitle=event=>{setTitle(event.target.value);};const changeContent=event=>{setContent(event.target.value);};const createBbsAnswer=async()=>{const req={id:localStorage.getItem(\"id\"),title:title,content:content};await axios.post(\"http://localhost:8080/bbs/\".concat(parentSeq,\"/answer\"),req,{headers:headers}).then(resp=>{console.log(\"[BbsAnswer.js] createBbsAnswer() success :D\");console.log(resp.data);alert(\"ÎãµÍ∏ÄÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Îì±Î°ùÌñàÏäµÎãàÎã§ :D\");navigate(\"/bbsdetail/\".concat(resp.data.seq));// ÏÉàÎ°≠Í≤å Îì±Î°ùÌïú ÎãµÍ∏Ä ÏÉÅÏÑ∏Î°ú Ïù¥Îèô\n}).catch(err=>{console.log(\"[BbsAnswer.js] createBbsAnswer() error :<\");console.log(err);});};useEffect(()=>{if(!auth){alert(\"Î°úÍ∑∏Ïù∏ Ìïú ÏÇ¨Ïö©ÏûêÎßå Í≤åÏãúÍ∏ÄÏóê ÎåÄÌïú ÎãµÍ∏ÄÏùÑ ÏûëÏÑ±Ìï† Ïàò ÏûàÏäµÎãàÎã§ !\");navigate(-1);}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:parentBbs.id,size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:parentBbs.title,size:\"50px\",readOnly:true})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCC Reply\"}),/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:localStorage.getItem(\"id\"),size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:changeTitle,size:\"50px\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:content,onChange:changeContent,rows:\"10\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-5 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:createBbsAnswer,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pen\"}),\" \\uB2F5\\uAE00\\uB2EC\\uAE30\"]})})]});}export default BbsAnswer;","map":{"version":3,"names":["axios","useLocation","useNavigate","useParams","useContext","useState","useEffect","AuthContext","HttpHeadersContext","jsx","_jsx","jsxs","_jsxs","BbsAnswer","auth","setAuth","headers","setHeaders","navigate","parentSeq","location","parentBbs","state","title","setTitle","content","setContent","changeTitle","event","target","value","changeContent","createBbsAnswer","req","id","localStorage","getItem","post","concat","then","resp","console","log","data","alert","seq","catch","err","children","className","type","size","readOnly","onChange","rows","onClick"],"sources":["C:/.git/frontend-bbs/src/Components/bbs/BbsAnswer.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../context/AuthProvider\";\r\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\r\n\r\nfunction BbsAnswer() {\r\n\r\n\tconst { auth, setAuth } = useContext(AuthContext)\r\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst { parentSeq } = useParams(); // Î∂ÄÎ™® Í∏Ä Î≤àÌò∏\r\n\r\n\tconst location = useLocation();\r\n\tconst { parentBbs } = location.state;\r\n\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [content, setContent] = useState(\"\");\r\n\r\n\tconst changeTitle = (event) => {\r\n\t\tsetTitle(event.target.value);\r\n\t}\r\n\r\n\tconst changeContent = (event) => {\r\n\t\tsetContent(event.target.value);\r\n\t}\r\n\r\n\r\n\tconst createBbsAnswer = async () => {\r\n\r\n\t\tconst req = {\r\n\t\t\tid: localStorage.getItem(\"id\"),\r\n\t\t\ttitle: title,\r\n\t\t\tcontent: content\r\n\t\t}\r\n\t\t\r\n\t\tawait axios.post(`http://localhost:8080/bbs/${parentSeq}/answer`, req, {headers: headers})\r\n\t\t.then((resp) => {\r\n\t\t\tconsole.log(\"[BbsAnswer.js] createBbsAnswer() success :D\");\r\n\t\t\tconsole.log(resp.data);\r\n\r\n\t\t\talert(\"ÎãµÍ∏ÄÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Îì±Î°ùÌñàÏäµÎãàÎã§ :D\");\r\n\t\t\tnavigate(`/bbsdetail/${resp.data.seq}`); // ÏÉàÎ°≠Í≤å Îì±Î°ùÌïú ÎãµÍ∏Ä ÏÉÅÏÑ∏Î°ú Ïù¥Îèô\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(\"[BbsAnswer.js] createBbsAnswer() error :<\");\r\n\t\t\tconsole.log(err);\r\n\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!auth) {\r\n\t\t\talert(\"Î°úÍ∑∏Ïù∏ Ìïú ÏÇ¨Ïö©ÏûêÎßå Í≤åÏãúÍ∏ÄÏóê ÎåÄÌïú ÎãµÍ∏ÄÏùÑ ÏûëÏÑ±Ìï† Ïàò ÏûàÏäµÎãàÎã§ !\");\r\n\t\t\tnavigate(-1);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Î∂ÄÎ™® Í≤åÏãúÍ∏Ä Ï†ïÎ≥¥ */}\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className=\"table-primary\">ÏûëÏÑ±Ïûê</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={parentBbs.id} size=\"50px\" readOnly />\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className=\"table-primary\">Ï†úÎ™©</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={parentBbs.title} size=\"50px\" readOnly />\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table><br/><br/>\r\n\t\t\t\r\n\t\t\t{/* ÎãµÍ∏Ä ÏûëÏÑ± */}\r\n\t\t\t<h3>üìå Reply</h3>\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className=\"table-primary\">ÏûëÏÑ±Ïûê</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"  value={localStorage.getItem(\"id\")} size=\"50px\" readOnly />\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className=\"table-primary\">Ï†úÎ™©</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={title} onChange={changeTitle} size=\"50px\" />\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className=\"table-primary\">ÎÇ¥Ïö©</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<textarea className=\"form-control\" value={content} onChange={changeContent} rows=\"10\"></textarea>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\r\n\t\t\t<div className=\"my-5 d-flex justify-content-center\">\r\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={createBbsAnswer}><i className=\"fas fa-pen\"></i> ÎãµÍ∏ÄÎã¨Í∏∞</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default BbsAnswer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}